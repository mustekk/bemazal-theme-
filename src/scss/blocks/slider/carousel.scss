/**
 * Swiper Carousel Block Styles
 *
 * This file is loaded conditionally when the block is present on the page.
 */

@use 'sass:math';

// Import Bootstrap for variables and mixins
@use 'bootstrap/scss/bootstrap' as *;

// Import shared block utilities
@use '../shared' as *;

// Block wrapper
.wp-block-scb-swiper-carousel {
  @include block-spacing(2rem, 2rem);
  position: relative;
  max-width: var(--max-width, 1200px);
  margin-left: auto;
  margin-right: auto;

  // Swiper container
  .swiper {
    width: 100%;
    overflow: hidden;
  }

  // Swiper slide
  .swiper-slide {
    position: relative;
    aspect-ratio: var(--aspect-ratio, 16/9);
    overflow: hidden;
    border-radius: 8px;

    a {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    img {
      @include responsive-image;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    // Darken overlay
    &:after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba($black, var(--darken-level, 0.3));
      opacity: 1;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    // Hover effect
    &:hover {
      img {
        transform: scale(var(--zoom-scale, 1.05));
      }

      &:after {
        opacity: 0.5;
      }
    }
  }

  // Navigation buttons
  .swiper-button-next,
  .swiper-button-prev {
    color: $white;
    background-color: rgba($black, 0.5);
    width: 48px;
    height: 48px;
    border-radius: 50%;
    backdrop-filter: blur(4px);

    &:after {
      font-size: 1.5rem;
    }

    &:hover {
      background-color: rgba($primary, 0.8);
    }

    @include media-breakpoint-down(md) {
      width: 40px;
      height: 40px;

      &:after {
        font-size: 1.25rem;
      }
    }
  }

  // Pagination
  .swiper-pagination {
    position: relative;
    margin-top: 1.5rem;

    .swiper-pagination-bullet {
      width: 12px;
      height: 12px;
      background-color: $gray-400;
      opacity: 1;
      transition: all 0.3s ease;

      &.swiper-pagination-bullet-active {
        background-color: $primary;
        width: 32px;
        border-radius: 6px;
      }
    }
  }

  // Centered mode adjustments
  &.centered {
    .swiper-slide {
      opacity: 0.5;
      transition: opacity 0.3s ease;

      &.swiper-slide-active {
        opacity: 1;
      }
    }
  }

  // RTL support
  @include rtl-support;
}
